import{a as oe,p as re}from"./formatters-Bnv68_Nh.js";import{_ as ie}from"./TablePagination.vue_vue_type_script_setup_true_lang-BLpyvGo5.js";import{_ as ne}from"./AppTextField.vue_vue_type_script_setup_true_lang-CgXasaHP.js";import{_ as ce}from"./AppSelect.vue_vue_type_script_setup_true_lang-C__P85TY.js";import{_ as ue}from"./AddNewUserDrawer.vue_vue_type_script_setup_true_lang-OrMyR2Mg.js";import{u as de}from"./useApi-Cirfv19R.js";import{c as pe}from"./createUrl-aC1NI37U.js";import{$ as N}from"./api-C_4U8U9x.js";import{V as W,a as w}from"./VRow-D3BW0X_c.js";import{a as me,b as fe,V as O}from"./VCard-BmDiRtzo.js";import{V as C}from"./VCardText-BPW3eqxe.js";import{V as F}from"./VDivider-BTqHSpsX.js";import{V as ve}from"./VSpacer-BllJwegc.js";import{d as _e,r as i,b7 as xe,a1 as q,o as _,c as A,e as s,b as t,f as a,F as be,i as ge,n as o,v as d,aY as u,ak as P,g as M,x as n,V as p,a as j,y as Ve}from"./main-4HtaUiFJ.js";import{V as he}from"./VDataTableServer-lTfn21H4.js";import{V as Q}from"./VAvatar-DqZM1Z9r.js";import{V as ye}from"./VImg-_vWB6Zwl.js";import{V as we}from"./VChip-C3dJwiwV.js";import{V as ke}from"./VMenu-C6o_MB5q.js";import{V as Ue,a as S,b as L}from"./VList-BswckCF8.js";import"./helpers-BGv4x_9E.js";import"./VPagination-DQnbF2D6.js";import"./form-DFwA6hGK.js";import"./VTextField-B9XLf_50.js";/* empty css                   */import"./VCounter-1zqnpjd5.js";import"./VField-BAjGSKE3.js";import"./easing-CjukEv2V.js";import"./VInput-BFY35E5e.js";import"./forwardRefs-C-GTDzx5.js";import"./VSelect-VZZmIpKC.js";import"./dialog-transition-DGxvWnIv.js";import"./VOverlay-C0_cIW55.js";import"./delay-B6n6jnpn.js";import"./lazy-Df-tM7SF.js";import"./scopeId-DbRFQ7mK.js";import"./VCheckboxBtn-BubYvrdx.js";import"./VSelectionControl-BM0pCinx.js";import"./validators-BJEf8OaU.js";import"./AppDrawerHeaderSection.vue_vue_type_script_setup_true_lang-G_jZklFa.js";import"./vue3-perfect-scrollbar-CbwDZVVd.js";import"./VForm-DfyEv3E_.js";import"./VNavigationDrawer-BrvdEhMP.js";import"./ssrBoot-Dof1CZuO.js";import"./index-9rIf2CJL.js";/* empty css              */import"./VDataTable-YNeD0YE1.js";import"./VTable-CovI-oZs.js";import"./filter-B0Ruhm0t.js";import"./VSlideGroup-CJyjfXC_.js";const Ce={class:"d-flex mb-6"},Ae={class:"d-flex justify-space-between"},Pe={class:"d-flex flex-column gap-y-1"},Se={class:"text-body-1 text-high-emphasis"},Le={class:"d-flex gap-x-2 align-center"},Te={class:"text-h4"},Be={class:"text-sm"},De={class:"me-3 d-flex gap-3"},ze={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},Ie={style:{"inline-size":"15.625rem"}},$e={class:"d-flex align-center gap-x-4"},Re={key:1},Ee={class:"d-flex flex-column"},Ne={class:"text-base"},We={class:"text-sm"},Oe={class:"d-flex align-center gap-x-2"},Fe={class:"text-capitalize text-high-emphasis text-body-1"},qe={class:"text-body-1 text-high-emphasis text-capitalize"},Ot=_e({__name:"index",async setup(Me){let x,T;const b=i(""),g=i(),V=i(),h=i(),m=i(10),f=i(1),B=i(),D=i(),v=i([]),Y=r=>{var l,c;B.value=(l=r.sortBy[0])==null?void 0:l.key,D.value=(c=r.sortBy[0])==null?void 0:c.order},G=[{title:"User",key:"user"},{title:"Role",key:"role"},{title:"Plan",key:"plan"},{title:"Billing",key:"billing"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],{data:z,execute:I}=([x,T]=xe(()=>de(pe("/apps/users",{query:{q:b,status:h,plan:V,role:g,itemsPerPage:m,page:f,sortBy:B,orderBy:D}}))),x=await x,T(),x),H=q(()=>z.value.users),$=q(()=>z.value.totalUsers),J=[{title:"Admin",value:"admin"},{title:"Author",value:"author"},{title:"Editor",value:"editor"},{title:"Maintainer",value:"maintainer"},{title:"Subscriber",value:"subscriber"}],K=[{title:"Basic",value:"basic"},{title:"Company",value:"company"},{title:"Enterprise",value:"enterprise"},{title:"Team",value:"team"}],X=[{title:"Pending",value:"pending"},{title:"Active",value:"active"},{title:"Inactive",value:"inactive"}],k=r=>{const l=r.toLowerCase();return l==="subscriber"?{color:"success",icon:"tabler-user"}:l==="author"?{color:"error",icon:"tabler-device-desktop"}:l==="maintainer"?{color:"info",icon:"tabler-chart-pie"}:l==="editor"?{color:"warning",icon:"tabler-edit"}:l==="admin"?{color:"primary",icon:"tabler-crown"}:{color:"primary",icon:"tabler-user"}},Z=r=>{const l=r.toLowerCase();return l==="pending"?"warning":l==="active"?"success":l==="inactive"?"secondary":"primary"},y=i(!1),ee=async r=>{await N("/apps/users",{method:"POST",body:r}),I()},R=async r=>{await N(`/apps/users/${r}`,{method:"DELETE"});const l=v.value.findIndex(c=>c===r);l!==-1&&v.value.splice(l,1),I()},te=i([{title:"Session",value:"21,459",change:29,desc:"Total Users",icon:"tabler-users",iconColor:"primary"},{title:"Paid Users",value:"4,567",change:18,desc:"Last Week Analytics",icon:"tabler-user-plus",iconColor:"error"},{title:"Active Users",value:"19,860",change:-14,desc:"Last Week Analytics",icon:"tabler-user-check",iconColor:"success"},{title:"Pending Users",value:"237",change:42,desc:"Last Week Analytics",icon:"tabler-user-search",iconColor:"warning"}]);return(r,l)=>{const c=ce,ae=ne,le=j("RouterLink"),E=j("IconBtn"),se=ie;return _(),A("section",null,[s("div",Ce,[t(W,null,{default:a(()=>[(_(!0),A(be,null,ge(o(te),(e,U)=>(_(),M(w,{key:U,cols:"12",md:"3",sm:"6"},{default:a(()=>[t(O,null,{default:a(()=>[t(C,null,{default:a(()=>[s("div",Ae,[s("div",Pe,[s("div",Se,n(e.title),1),s("div",Le,[s("h4",Te,n(e.value),1),s("div",{class:Ve(["text-base",e.change>0?"text-success":"text-error"])}," ("+n(("prefixWithPlus"in r?r.prefixWithPlus:o(re))(e.change))+"%) ",3)]),s("div",Be,n(e.desc),1)]),t(Q,{color:e.iconColor,variant:"tonal",rounded:"",size:"42"},{default:a(()=>[t(p,{icon:e.icon,size:"26"},null,8,["icon"])]),_:2},1032,["color"])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),t(O,{class:"mb-6"},{default:a(()=>[t(me,{class:"pb-4"},{default:a(()=>[t(fe,null,{default:a(()=>[d("Filters")]),_:1})]),_:1}),t(C,null,{default:a(()=>[t(W,null,{default:a(()=>[t(w,{cols:"12",sm:"4"},{default:a(()=>[t(c,{modelValue:o(g),"onUpdate:modelValue":l[0]||(l[0]=e=>u(g)?g.value=e:null),placeholder:"Select Role",items:J,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),t(w,{cols:"12",sm:"4"},{default:a(()=>[t(c,{modelValue:o(V),"onUpdate:modelValue":l[1]||(l[1]=e=>u(V)?V.value=e:null),placeholder:"Select Plan",items:K,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),t(w,{cols:"12",sm:"4"},{default:a(()=>[t(c,{modelValue:o(h),"onUpdate:modelValue":l[2]||(l[2]=e=>u(h)?h.value=e:null),placeholder:"Select Status",items:X,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(F),t(C,{class:"d-flex flex-wrap gap-4"},{default:a(()=>[s("div",De,[t(c,{"model-value":o(m),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"6.25rem"},"onUpdate:modelValue":l[3]||(l[3]=e=>m.value=parseInt(e,10))},null,8,["model-value"])]),t(ve),s("div",ze,[s("div",Ie,[t(ae,{modelValue:o(b),"onUpdate:modelValue":l[4]||(l[4]=e=>u(b)?b.value=e:null),placeholder:"Search User"},null,8,["modelValue"])]),t(P,{variant:"tonal",color:"secondary","prepend-icon":"tabler-upload"},{default:a(()=>[d(" Export ")]),_:1}),t(P,{"prepend-icon":"tabler-plus",onClick:l[5]||(l[5]=e=>y.value=!0)},{default:a(()=>[d(" Add New User ")]),_:1})])]),_:1}),t(F),t(he,{"items-per-page":o(m),"onUpdate:itemsPerPage":l[7]||(l[7]=e=>u(m)?m.value=e:null),"model-value":o(v),"onUpdate:modelValue":l[8]||(l[8]=e=>u(v)?v.value=e:null),page:o(f),"onUpdate:page":l[9]||(l[9]=e=>u(f)?f.value=e:null),items:o(H),"item-value":"id","items-length":o($),headers:G,class:"text-no-wrap","show-select":"","onUpdate:options":Y},{"item.user":a(({item:e})=>[s("div",$e,[t(Q,{size:"34",variant:e.avatar?void 0:"tonal",color:e.avatar?void 0:k(e.role).color},{default:a(()=>[e.avatar?(_(),M(ye,{key:0,src:e.avatar},null,8,["src"])):(_(),A("span",Re,n(("avatarText"in r?r.avatarText:o(oe))(e.fullName)),1))]),_:2},1032,["variant","color"]),s("div",Ee,[s("h6",Ne,[t(le,{to:{name:"apps-user-view-id",params:{id:e.id}},class:"font-weight-medium text-link"},{default:a(()=>[d(n(e.fullName),1)]),_:2},1032,["to"])]),s("div",We,n(e.email),1)])])]),"item.role":a(({item:e})=>[s("div",Oe,[t(p,{size:22,icon:k(e.role).icon,color:k(e.role).color},null,8,["icon","color"]),s("div",Fe,n(e.role),1)])]),"item.plan":a(({item:e})=>[s("div",qe,n(e.currentPlan),1)]),"item.status":a(({item:e})=>[t(we,{color:Z(e.status),size:"small",label:"",class:"text-capitalize"},{default:a(()=>[d(n(e.status),1)]),_:2},1032,["color"])]),"item.actions":a(({item:e})=>[t(E,{onClick:U=>R(e.id)},{default:a(()=>[t(p,{icon:"tabler-trash"})]),_:2},1032,["onClick"]),t(E,null,{default:a(()=>[t(p,{icon:"tabler-eye"})]),_:1}),t(P,{icon:"",variant:"text",color:"medium-emphasis"},{default:a(()=>[t(p,{icon:"tabler-dots-vertical"}),t(ke,{activator:"parent"},{default:a(()=>[t(Ue,null,{default:a(()=>[t(S,{to:{name:"apps-user-view-id",params:{id:e.id}}},{prepend:a(()=>[t(p,{icon:"tabler-eye"})]),default:a(()=>[t(L,null,{default:a(()=>[d("View")]),_:1})]),_:2},1032,["to"]),t(S,{link:""},{prepend:a(()=>[t(p,{icon:"tabler-pencil"})]),default:a(()=>[t(L,null,{default:a(()=>[d("Edit")]),_:1})]),_:1}),t(S,{onClick:U=>R(e.id)},{prepend:a(()=>[t(p,{icon:"tabler-trash"})]),default:a(()=>[t(L,null,{default:a(()=>[d("Delete")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:a(()=>[t(se,{page:o(f),"onUpdate:page":l[6]||(l[6]=e=>u(f)?f.value=e:null),"items-per-page":o(m),"total-items":o($)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","model-value","page","items","items-length"])]),_:1}),t(ue,{isDrawerOpen:o(y),"onUpdate:isDrawerOpen":l[10]||(l[10]=e=>u(y)?y.value=e:null),onUserData:ee},null,8,["isDrawerOpen"])])}}});export{Ot as default};

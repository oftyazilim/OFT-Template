import{r as w,e as F}from"./validators-BJEf8OaU.js";import{d as P,r as c,o as A,c as B,b as e,f as t,e as o,n as a,I as V,x as y,v as l,b1 as j,aY as E,ak as M,F as N,a as S,j as $,k as U,b4 as g,b0 as z}from"./main-4HtaUiFJ.js";import{_ as G}from"./AppTextField.vue_vue_type_script_setup_true_lang-CgXasaHP.js";import{_ as O}from"./AuthProvider.vue_vue_type_script_setup_true_lang-t0QW6tx2.js";import{u as k}from"./useGenerateImageVariant-C_G4PWBg.js";import{a as W,b as Y,c as H,d as J}from"./auth-v2-login-illustration-light-CZAH_Qyi.js";import{a as K,b as Q}from"./misc-mask-light-Ha4lQOdV.js";import{V as X}from"./VNodeRenderer-Bltyti6v.js";import{u as Z}from"./useAbility-DrANSi-4.js";import{$ as ee}from"./api-C_4U8U9x.js";import{a as n,V as x}from"./VRow-D3BW0X_c.js";import{V as ae}from"./VImg-_vWB6Zwl.js";import{V as te}from"./VCard-BmDiRtzo.js";import{V as h}from"./VCardText-BPW3eqxe.js";import{V as oe}from"./VAlert-FKhBA5sQ.js";import{V as se}from"./VForm-DfyEv3E_.js";import{V as re}from"./VCheckbox-CJxZ-Xhc.js";import{V as C}from"./VDivider-BTqHSpsX.js";import"./helpers-BGv4x_9E.js";import"./form-DFwA6hGK.js";import"./VTextField-B9XLf_50.js";/* empty css                   */import"./VCounter-1zqnpjd5.js";import"./VField-BAjGSKE3.js";import"./easing-CjukEv2V.js";import"./VInput-BFY35E5e.js";import"./forwardRefs-C-GTDzx5.js";import"./index-9rIf2CJL.js";/* empty css              */import"./VAvatar-DqZM1Z9r.js";import"./VCheckboxBtn-BubYvrdx.js";import"./VSelectionControl-BM0pCinx.js";const le={class:"auth-logo d-flex align-center gap-x-3"},ie={class:"auth-title"},ne={class:"position-relative bg-background w-100 me-0"},me={class:"d-flex align-center justify-center w-100 h-100",style:{"padding-inline":"6.25rem"}},de=["src"],ue={class:"text-h4 mb-1"},ce={class:"text-capitalize"},pe=o("p",{class:"mb-0"}," Please sign-in to your account and start the adventure ",-1),fe=o("p",{class:"text-sm mb-2"},[l(" Admin Email: "),o("strong",null,"admin@demo.com"),l(" / Pass: "),o("strong",null,"admin")],-1),_e=o("p",{class:"text-sm mb-0"},[l(" Client Email: "),o("strong",null,"client@demo.com"),l(" / Pass: "),o("strong",null,"client")],-1),Ve={class:"d-flex align-center flex-wrap justify-space-between my-6"},ge=o("span",null,"New on our platform?",-1),he=o("span",{class:"mx-4"},"or",-1),Xe=P({__name:"login",setup(be){const R=k(J,H,Y,W,!0),L=k(Q,K),p=c(!1),b=$(),I=U(),T=Z(),f=c({email:void 0,password:void 0}),v=c(),m=c({email:"omer@gmail.com",password:"passomer"}),_=c(!1),q=async()=>{try{const s=await ee("/auth/login",{method:"POST",body:{email:m.value.email,password:m.value.password},onResponseError({response:i}){f.value=i._data,console.log(f.value)}}),{accessToken:r,userData:d,userAbilityRules:u}=s;g("userAbilityRules").value=u,T.update(u),g("userData").value=d,g("accessToken").value=r,await z(()=>{I.replace(b.query.to?String(b.query.to):"/home-page")})}catch(s){console.error(s)}},D=()=>{var s;(s=v.value)==null||s.validate().then(({valid:r})=>{r&&q()})};return(s,r)=>{const d=S("RouterLink"),u=G;return A(),B(N,null,[e(d,{to:"/"},{default:t(()=>[o("div",le,[e(a(X),{nodes:a(V).app.logo},null,8,["nodes"]),o("h1",ie,y(a(V).app.title),1)])]),_:1}),e(x,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:t(()=>[e(n,{md:"8",class:"d-none d-md-flex"},{default:t(()=>[o("div",ne,[o("div",me,[e(ae,{"max-width":"613",src:a(R),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),o("img",{class:"auth-footer-mask",src:a(L),alt:"auth-footer-mask",height:"280",width:"100"},null,8,de)])]),_:1}),e(n,{cols:"12",md:"4",class:"auth-card-v2 d-flex align-center justify-center"},{default:t(()=>[e(te,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:t(()=>[e(h,null,{default:t(()=>[o("h4",ue,[l(" Welcome to "),o("span",ce,y(a(V).app.title),1),l("! 👋🏻 ")]),pe]),_:1}),e(h,null,{default:t(()=>[e(oe,{color:"primary",variant:"tonal"},{default:t(()=>[fe,_e]),_:1})]),_:1}),e(h,null,{default:t(()=>[e(a(se),{ref_key:"refVForm",ref:v,onSubmit:j(D,["prevent"])},{default:t(()=>[e(x,null,{default:t(()=>[e(n,{cols:"12"},{default:t(()=>[e(u,{modelValue:a(m).email,"onUpdate:modelValue":r[0]||(r[0]=i=>a(m).email=i),label:"Email",placeholder:"johndoe@email.com",type:"email",autofocus:"",rules:["requiredValidator"in s?s.requiredValidator:a(w),"emailValidator"in s?s.emailValidator:a(F)],"error-messages":a(f).email},null,8,["modelValue","rules","error-messages"])]),_:1}),e(n,{cols:"12"},{default:t(()=>[e(u,{modelValue:a(m).password,"onUpdate:modelValue":r[1]||(r[1]=i=>a(m).password=i),label:"Password",placeholder:"············",rules:["requiredValidator"in s?s.requiredValidator:a(w)],type:a(p)?"text":"password","error-messages":a(f).password,"append-inner-icon":a(p)?"tabler-eye-off":"tabler-eye","onClick:appendInner":r[2]||(r[2]=i=>p.value=!a(p))},null,8,["modelValue","rules","type","error-messages","append-inner-icon"]),o("div",Ve,[e(re,{modelValue:a(_),"onUpdate:modelValue":r[3]||(r[3]=i=>E(_)?_.value=i:null),label:"Remember me"},null,8,["modelValue"]),e(d,{class:"text-primary ms-2 mb-1",to:{name:"forgot-password"}},{default:t(()=>[l(" Forgot Password? ")]),_:1})]),e(M,{block:"",type:"submit"},{default:t(()=>[l(" Login ")]),_:1})]),_:1}),e(n,{cols:"12",class:"text-center"},{default:t(()=>[ge,e(d,{class:"text-primary ms-1",to:{name:"register"}},{default:t(()=>[l(" Create an account ")]),_:1})]),_:1}),e(n,{cols:"12",class:"d-flex align-center"},{default:t(()=>[e(C),he,e(C)]),_:1}),e(n,{cols:"12",class:"text-center"},{default:t(()=>[e(O)]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})],64)}}});export{Xe as default};

import{_ as ie}from"./AppTextField.vue_vue_type_script_setup_true_lang-CgXasaHP.js";import{_ as ge}from"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-Cnw3ynqB.js";import{V as q}from"./VCard-BmDiRtzo.js";import{V as L}from"./VCardText-BPW3eqxe.js";import{V as be}from"./VForm-DfyEv3E_.js";import{V as he}from"./VTable-CovI-oZs.js";import{V as N}from"./VCheckbox-CJxZ-Xhc.js";import{d as W,r as m,a1 as H,w as j,o as f,g as S,f as t,b as e,e as a,x as y,n as r,aY as h,c as R,F as z,i as te,ak as K,v as U,a as ae,z as G,V as P,b7 as Ve}from"./main-4HtaUiFJ.js";import{V as we}from"./VDialog-DA0eMkl7.js";import{a as B}from"./avatar-1-mrBiEG2D.js";import{a as E}from"./avatar-2-J3iDMrW6.js";import{a as T}from"./avatar-3-CCfT4M2Q.js";import{a as I}from"./avatar-4-CkT0aFRW.js";import{a as O}from"./avatar-5-roKDnu6B.js";import{a as J}from"./avatar-6-D6_LJK0H.js";import{a as oe}from"./avatar-7-BqLdN_QF.js";import{a as xe}from"./avatar-8-x-cqZxtu.js";import{a as A,V as se}from"./VRow-D3BW0X_c.js";import{V as ue}from"./VSpacer-BllJwegc.js";import{V as Q}from"./VAvatar-DqZM1Z9r.js";import{a as ye}from"./formatters-Bnv68_Nh.js";import{_ as Ue}from"./TablePagination.vue_vue_type_script_setup_true_lang-BLpyvGo5.js";import{_ as $e}from"./AppSelect.vue_vue_type_script_setup_true_lang-C__P85TY.js";import{_ as ke}from"./AddNewUserDrawer.vue_vue_type_script_setup_true_lang-OrMyR2Mg.js";import{u as De}from"./useApi-Cirfv19R.js";import{c as Ce}from"./createUrl-aC1NI37U.js";import{$ as ne}from"./api-C_4U8U9x.js";import{V as Pe}from"./VDivider-BTqHSpsX.js";import{V as Re}from"./VDataTableServer-lTfn21H4.js";import{V as Ae}from"./VImg-_vWB6Zwl.js";import{V as Me}from"./VChip-C3dJwiwV.js";import{V as Se}from"./VMenu-C6o_MB5q.js";import{V as Be,a as Z,b as ee}from"./VList-BswckCF8.js";import"./form-DFwA6hGK.js";import"./VTextField-B9XLf_50.js";/* empty css                   */import"./VCounter-1zqnpjd5.js";import"./VField-BAjGSKE3.js";import"./easing-CjukEv2V.js";import"./VInput-BFY35E5e.js";import"./forwardRefs-C-GTDzx5.js";import"./VCheckboxBtn-BubYvrdx.js";import"./VSelectionControl-BM0pCinx.js";import"./VOverlay-C0_cIW55.js";import"./delay-B6n6jnpn.js";import"./lazy-Df-tM7SF.js";import"./scopeId-DbRFQ7mK.js";import"./dialog-transition-DGxvWnIv.js";/* empty css              */import"./helpers-BGv4x_9E.js";import"./VPagination-DQnbF2D6.js";import"./VSelect-VZZmIpKC.js";import"./validators-BJEf8OaU.js";import"./AppDrawerHeaderSection.vue_vue_type_script_setup_true_lang-G_jZklFa.js";import"./vue3-perfect-scrollbar-CbwDZVVd.js";import"./VNavigationDrawer-BrvdEhMP.js";import"./ssrBoot-Dof1CZuO.js";import"./index-9rIf2CJL.js";import"./VDataTable-YNeD0YE1.js";import"./filter-B0Ruhm0t.js";import"./VSlideGroup-CJyjfXC_.js";const Ee={class:"text-h4 text-center mb-2"},Te=a("p",{class:"text-body-1 text-center mb-6"}," Set Role Permissions ",-1),Ie=a("h5",{class:"text-h5 my-6"}," Role Permissions ",-1),ze=a("td",null,[a("h6",{class:"text-h6"}," Administrator Access ")],-1),Le={colspan:"3"},Fe={class:"d-flex justify-end"},Ne={class:"text-h6"},je={class:"d-flex justify-end"},Oe={class:"d-flex justify-end"},Qe={class:"d-flex justify-end"},qe={class:"d-flex align-center justify-center gap-4"},He=W({__name:"AddEditRoleDialog",props:{rolePermissions:{default:()=>({name:"",permissions:[]})},isDialogVisible:{type:Boolean}},emits:["update:isDialogVisible","update:rolePermissions"],setup(F,{emit:$}){const c=F,g=$,i=m([{name:"User Management",read:!1,write:!1,create:!1},{name:"Content Management",read:!1,write:!1,create:!1},{name:"Disputes Management",read:!1,write:!1,create:!1},{name:"Database Management",read:!1,write:!1,create:!1},{name:"Financial Management",read:!1,write:!1,create:!1},{name:"Reporting",read:!1,write:!1,create:!1},{name:"API Control",read:!1,write:!1,create:!1},{name:"Repository Management",read:!1,write:!1,create:!1},{name:"Payroll",read:!1,write:!1,create:!1}]),V=m(!1),w=m(""),u=m(),b=H(()=>{let n=0;return i.value.forEach(d=>{Object.entries(d).forEach(([k,D])=>{k!=="name"&&D&&n++})}),n}),x=H(()=>b.value>0&&b.value<i.value.length*3);j(V,n=>{i.value=i.value.map(d=>({...d,read:n,write:n,create:n}))}),j(x,()=>{x.value||(V.value=!1)}),j(i,()=>{b.value===i.value.length*3&&(V.value=!0)},{deep:!0}),j(()=>c,()=>{c.rolePermissions&&c.rolePermissions.permissions.length&&(w.value=c.rolePermissions.name,i.value=i.value.map(n=>{var k;const d=(k=c.rolePermissions)==null?void 0:k.permissions.find(D=>D.name===n.name);return d?{...n,...d}:n}))});const o=()=>{var d;const n={name:w.value,permissions:i.value};g("update:rolePermissions",n),g("update:isDialogVisible",!1),V.value=!1,(d=u.value)==null||d.reset()},_=()=>{var n;g("update:isDialogVisible",!1),V.value=!1,(n=u.value)==null||n.reset()};return(n,d)=>{const k=ge,D=ie;return f(),S(we,{width:n.$vuetify.display.smAndDown?"auto":900,"model-value":c.isDialogVisible,"onUpdate:modelValue":_},{default:t(()=>[e(k,{onClick:_}),e(q,{class:"pa-sm-10 pa-2"},{default:t(()=>[e(L,null,{default:t(()=>[a("h4",Ee,y(c.rolePermissions.name?"Edit":"Add New")+" Role ",1),Te,e(r(be),{ref_key:"refPermissionForm",ref:u},{default:t(()=>[e(D,{modelValue:r(w),"onUpdate:modelValue":d[0]||(d[0]=p=>h(w)?w.value=p:null),label:"Role Name",placeholder:"Enter Role Name"},null,8,["modelValue"]),Ie,e(he,{class:"permission-table text-no-wrap mb-6"},{default:t(()=>[a("tr",null,[ze,a("td",Le,[a("div",Fe,[e(N,{modelValue:r(V),"onUpdate:modelValue":d[1]||(d[1]=p=>h(V)?V.value=p:null),indeterminate:r(x),"onUpdate:indeterminate":d[2]||(d[2]=p=>h(x)?x.value=p:null),label:"Select All"},null,8,["modelValue","indeterminate"])])])]),(f(!0),R(z,null,te(r(i),p=>(f(),R("tr",{key:p.name},[a("td",null,[a("h6",Ne,y(p.name),1)]),a("td",null,[a("div",je,[e(N,{modelValue:p.read,"onUpdate:modelValue":C=>p.read=C,label:"Read"},null,8,["modelValue","onUpdate:modelValue"])])]),a("td",null,[a("div",Oe,[e(N,{modelValue:p.write,"onUpdate:modelValue":C=>p.write=C,label:"Write"},null,8,["modelValue","onUpdate:modelValue"])])]),a("td",null,[a("div",Qe,[e(N,{modelValue:p.create,"onUpdate:modelValue":C=>p.create=C,label:"Create"},null,8,["modelValue","onUpdate:modelValue"])])])]))),128))]),_:1}),a("div",qe,[e(K,{onClick:o},{default:t(()=>[U(" Submit ")]),_:1}),e(K,{color:"secondary",variant:"tonal",onClick:_},{default:t(()=>[U(" Cancel ")]),_:1})])]),_:1},512)]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}}),Ke="/build/assets/avatar-10-D0dIAeHn.png",We="/build/assets/avatar-9-DQF709tv.png",Xe="/build/assets/girl-using-mobile-CKXBkoEQ.png",Ye={class:"text-body-1"},Ge={class:"v-avatar-group"},Je={class:"d-flex justify-space-between align-center"},Ze={class:"text-h5"},et={class:"d-flex align-center"},tt=["onClick"],at=["src"],st=a("div",{class:"text-end"},[U(" Add new role,"),a("br"),U(" if it doesn't exist. ")],-1),lt=W({__name:"RoleCards",setup(F){const $=m([{role:"Administrator",users:[B,E,T,I],details:{name:"Administrator",permissions:[{name:"User Management",read:!0,write:!0,create:!0},{name:"Disputes Management",read:!0,write:!0,create:!0},{name:"API Control",read:!0,write:!0,create:!0}]}},{role:"Manager",users:[B,E,T,I,O,J,oe],details:{name:"Manager",permissions:[{name:"Reporting",read:!0,write:!0,create:!1},{name:"Payroll",read:!0,write:!0,create:!0},{name:"User Management",read:!0,write:!0,create:!0}]}},{role:"Users",users:[B,E,T,I,O],details:{name:"Users",permissions:[{name:"User Management",read:!0,write:!1,create:!1},{name:"Content Management",read:!0,write:!1,create:!1},{name:"Disputes Management",read:!0,write:!1,create:!1},{name:"Database Management",read:!0,write:!1,create:!1}]}},{role:"Support",users:[B,E,T,I,O,J],details:{name:"Support",permissions:[{name:"Repository Management",read:!0,write:!0,create:!1},{name:"Content Management",read:!0,write:!0,create:!1},{name:"Database Management",read:!0,write:!0,create:!1}]}},{role:"Restricted User",users:[B,E,T,I,O,J,oe,xe,We,Ke],details:{name:"Restricted User",permissions:[{name:"User Management",read:!0,write:!1,create:!1},{name:"Content Management",read:!0,write:!1,create:!1},{name:"Disputes Management",read:!0,write:!1,create:!1},{name:"Database Management",read:!0,write:!1,create:!1}]}}]),c=m(!1),g=m(),i=m(!1),V=w=>{c.value=!0,g.value=w};return(w,u)=>{const b=ae("IconBtn"),x=He;return f(),R(z,null,[e(se,null,{default:t(()=>[(f(!0),R(z,null,te(r($),o=>(f(),S(A,{key:o.role,cols:"12",sm:"6",lg:"4"},{default:t(()=>[e(q,null,{default:t(()=>[e(L,{class:"d-flex align-center pb-4"},{default:t(()=>[a("div",Ye," Total "+y(o.users.length)+" users ",1),e(ue),a("div",Ge,[(f(!0),R(z,null,te(o.users,(_,n)=>(f(),R(z,{key:_},[o.users.length>4&&o.users.length!==4&&n<3?(f(),S(Q,{key:0,size:"40",image:_},null,8,["image"])):G("",!0),o.users.length===4?(f(),S(Q,{key:1,size:"40",image:_},null,8,["image"])):G("",!0)],64))),128)),o.users.length>4?(f(),S(Q,{key:0,color:w.$vuetify.theme.current.dark?"#373B50":"#EEEDF0"},{default:t(()=>[a("span",null," +"+y(o.users.length-3),1)]),_:2},1032,["color"])):G("",!0)])]),_:2},1024),e(L,null,{default:t(()=>[a("div",Je,[a("div",null,[a("h5",Ze,y(o.role),1),a("div",et,[a("a",{href:"javascript:void(0)",onClick:_=>V(o.details)}," Edit Role ",8,tt)])]),e(b,null,{default:t(()=>[e(P,{icon:"tabler-copy",class:"text-high-emphasis"})]),_:1})])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),e(A,{cols:"12",sm:"6",lg:"4"},{default:t(()=>[e(q,{class:"h-100",ripple:!1},{default:t(()=>[e(se,{"no-gutters":"",class:"h-100"},{default:t(()=>[e(A,{cols:"5",class:"d-flex flex-column justify-end align-center mt-5"},{default:t(()=>[a("img",{width:"85",src:r(Xe)},null,8,at)]),_:1}),e(A,{cols:"7"},{default:t(()=>[e(L,{class:"d-flex flex-column align-end justify-end gap-4"},{default:t(()=>[e(K,{size:"small",onClick:u[0]||(u[0]=o=>i.value=!0)},{default:t(()=>[U(" Add New Role ")]),_:1}),st]),_:1})]),_:1})]),_:1})]),_:1}),e(x,{"is-dialog-visible":r(i),"onUpdate:isDialogVisible":u[1]||(u[1]=o=>h(i)?i.value=o:null)},null,8,["is-dialog-visible"])]),_:1})]),_:1}),e(x,{"is-dialog-visible":r(c),"onUpdate:isDialogVisible":u[2]||(u[2]=o=>h(c)?c.value=o:null),"role-permissions":r(g),"onUpdate:rolePermissions":u[3]||(u[3]=o=>h(g)?g.value=o:null)},null,8,["is-dialog-visible","role-permissions"])],64)}}}),rt={class:"d-flex gap-2 align-center"},ot=a("p",{class:"text-body-1 mb-0"}," Show ",-1),nt={class:"d-flex align-center flex-wrap gap-4"},it={class:"d-flex align-center gap-x-4"},ut={key:1},dt={class:"d-flex flex-column"},mt={class:"text-base"},ct={class:"text-sm"},pt={class:"d-flex align-center gap-x-2"},ft={class:"text-capitalize text-high-emphasis text-body-1"},_t={class:"text-body-1 text-high-emphasis text-capitalize"},vt=W({__name:"UserList",async setup(F){let $,c;const g=m(""),i=m(),V=m(),w=m(),u=m(10),b=m(1),x=m(),o=m(),_=m([]),n=v=>{var l,M;x.value=(l=v.sortBy[0])==null?void 0:l.key,o.value=(M=v.sortBy[0])==null?void 0:M.order},d=[{title:"User",key:"user"},{title:"Role",key:"role"},{title:"Plan",key:"plan"},{title:"Billing",key:"billing"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],{data:k,execute:D}=([$,c]=Ve(()=>De(Ce("/apps/users",{query:{q:g,status:w,plan:V,role:i,itemsPerPage:u,page:b,sortBy:x,orderBy:o}}))),$=await $,c(),$),p=H(()=>k.value.users),C=H(()=>k.value.totalUsers),de=[{title:"Admin",value:"admin"},{title:"Author",value:"author"},{title:"Editor",value:"editor"},{title:"Maintainer",value:"maintainer"},{title:"Subscriber",value:"subscriber"}],X=v=>{const l=v.toLowerCase();return l==="subscriber"?{color:"primary",icon:"tabler-user"}:l==="author"?{color:"warning",icon:"tabler-settings"}:l==="maintainer"?{color:"success",icon:"tabler-chart-donut"}:l==="editor"?{color:"info",icon:"tabler-pencil"}:l==="admin"?{color:"error",icon:"tabler-device-laptop"}:{color:"primary",icon:"tabler-user"}},me=v=>{const l=v.toLowerCase();return l==="pending"?"warning":l==="active"?"success":l==="inactive"?"secondary":"primary"},Y=m(!1),ce=async v=>{await ne("/apps/users",{method:"POST",body:v}),D()},le=async v=>{await ne(`/apps/users/${v}`,{method:"DELETE"});const l=_.value.findIndex(M=>M===v);l!==-1&&_.value.splice(l,1),D()};return(v,l)=>{const M=$e,pe=ie,fe=ae("RouterLink"),re=ae("IconBtn"),_e=Ue;return f(),R("section",null,[e(q,null,{default:t(()=>[e(L,{class:"d-flex flex-wrap gap-4"},{default:t(()=>[a("div",rt,[ot,e(M,{"model-value":r(u),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":l[0]||(l[0]=s=>u.value=parseInt(s,10))},null,8,["model-value"])]),e(ue),a("div",nt,[e(pe,{modelValue:r(g),"onUpdate:modelValue":l[1]||(l[1]=s=>h(g)?g.value=s:null),placeholder:"Search User",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),e(M,{modelValue:r(i),"onUpdate:modelValue":l[2]||(l[2]=s=>h(i)?i.value=s:null),placeholder:"Select Role",items:de,clearable:"","clear-icon":"tabler-x",style:{"inline-size":"10rem"}},null,8,["modelValue"])])]),_:1}),e(Pe),e(Re,{"items-per-page":r(u),"onUpdate:itemsPerPage":l[4]||(l[4]=s=>h(u)?u.value=s:null),"model-value":r(_),"onUpdate:modelValue":l[5]||(l[5]=s=>h(_)?_.value=s:null),page:r(b),"onUpdate:page":l[6]||(l[6]=s=>h(b)?b.value=s:null),"items-per-page-options":[{value:10,title:"10"},{value:20,title:"20"},{value:50,title:"50"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],items:r(p),"items-length":r(C),headers:d,class:"text-no-wrap","show-select":"","onUpdate:options":n},{"item.user":t(({item:s})=>[a("div",it,[e(Q,{size:"34",variant:s.avatar?void 0:"tonal",color:s.avatar?void 0:X(s.role).color},{default:t(()=>[s.avatar?(f(),S(Ae,{key:0,src:s.avatar},null,8,["src"])):(f(),R("span",ut,y(("avatarText"in v?v.avatarText:r(ye))(s.fullName)),1))]),_:2},1032,["variant","color"]),a("div",dt,[a("h6",mt,[e(fe,{to:{name:"apps-user-view-id",params:{id:s.id}},class:"font-weight-medium text-link"},{default:t(()=>[U(y(s.fullName),1)]),_:2},1032,["to"])]),a("div",ct,y(s.email),1)])])]),"item.role":t(({item:s})=>[a("div",pt,[e(P,{size:22,icon:X(s.role).icon,color:X(s.role).color},null,8,["icon","color"]),a("div",ft,y(s.role),1)])]),"item.plan":t(({item:s})=>[a("div",_t,y(s.currentPlan),1)]),"item.status":t(({item:s})=>[e(Me,{color:me(s.status),size:"small",label:"",class:"text-capitalize"},{default:t(()=>[U(y(s.status),1)]),_:2},1032,["color"])]),"item.actions":t(({item:s})=>[e(re,{onClick:ve=>le(s.id)},{default:t(()=>[e(P,{icon:"tabler-trash"})]),_:2},1032,["onClick"]),e(re,null,{default:t(()=>[e(P,{icon:"tabler-eye"})]),_:1}),e(K,{icon:"",variant:"text",color:"medium-emphasis"},{default:t(()=>[e(P,{icon:"tabler-dots-vertical"}),e(Se,{activator:"parent"},{default:t(()=>[e(Be,null,{default:t(()=>[e(Z,{to:{name:"apps-user-view-id",params:{id:s.id}}},{prepend:t(()=>[e(P,{icon:"tabler-eye"})]),default:t(()=>[e(ee,null,{default:t(()=>[U("View")]),_:1})]),_:2},1032,["to"]),e(Z,{link:""},{prepend:t(()=>[e(P,{icon:"tabler-pencil"})]),default:t(()=>[e(ee,null,{default:t(()=>[U("Edit")]),_:1})]),_:1}),e(Z,{onClick:ve=>le(s.id)},{prepend:t(()=>[e(P,{icon:"tabler-trash"})]),default:t(()=>[e(ee,null,{default:t(()=>[U("Delete")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:t(()=>[e(_e,{page:r(b),"onUpdate:page":l[3]||(l[3]=s=>h(b)?b.value=s:null),"items-per-page":r(u),"total-items":r(C)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","model-value","page","items","items-length"])]),_:1}),e(ke,{isDrawerOpen:r(Y),"onUpdate:isDrawerOpen":l[7]||(l[7]=s=>h(Y)?Y.value=s:null),onUserData:ce},null,8,["isDrawerOpen"])])}}}),gt=a("h4",{class:"text-h4 mb-1"}," Roles List ",-1),bt=a("p",{class:"text-body-1 mb-0"}," A role provided access to predefined menus and features so that depending on assigned role an administrator can have access to what he need ",-1),ht=a("h4",{class:"text-h4 mb-1 mt-6"}," Total users with their roles ",-1),Vt=a("p",{class:"text-body-1 mb-0"}," Find all of your companyâ€™s administrator accounts and their associate roles. ",-1),Ca=W({__name:"index",setup(F){return($,c)=>(f(),S(se,null,{default:t(()=>[e(A,{cols:"12"},{default:t(()=>[gt,bt]),_:1}),e(A,{cols:"12"},{default:t(()=>[e(lt)]),_:1}),e(A,{cols:"12"},{default:t(()=>[ht,Vt]),_:1}),e(A,{cols:"12"},{default:t(()=>[e(vt)]),_:1})]),_:1}))}});export{Ca as default};
